)
}
binary_summary(birth_data$plurality1, birth_data$is_male)
# Function to calculate the proportion of 1s in x for each level of group
calculation <- function(x){
res <- x %>%
group_by(pclass, survived) %>%
summarise(n = n()) %>%
mutate(freq = n / sum(n))
res<- res[c(2,4,6),]
birth_data <- subset(res, select = c(pclass, freq))
res<-x(birth_data)
row.names(res)<-c()
return(res)
}
binary_summary <- function(x,group) {
list(
missing = sum(is.na(x)),
prop = calculation(birth_data),
is.binary = TRUE
)
}
binary_summary(birth_data$plurality, birth_data$is_male)
# Function to calculate the proportion of 1s in x for each level of group
calculation <- function(x){
res <- x %>%
group_by(plurality, is_male) %>%
summarise(n = n()) %>%
mutate(freq = n / sum(n))
res<- res[c(2,4,6),]
birth_data <- subset(res, select = c(pclass, freq))
res<-x(birth_data)
row.names(res)<-c()
return(res)
}
binary_summary <- function(x,group) {
list(
missing = sum(is.na(x)),
prop = calculation(birth_data),
is.binary = TRUE
)
}
binary_summary(birth_data$plurality, birth_data$is_male)
# Function to calculate the proportion of 1s in x for each level of group
calculation <- function(x){
res <- x %>%
group_by(plurality, is_male) %>%
summarise(n = n()) %>%
mutate(freq = n / sum(n))
res<- res[c(2,4,6),]
birth_data <- subset(res, select = c(pclass, freq))
res<-x(birth_data)
row.names(res)<-c()
return(res)
}
binary_summary <- function(x,group) {
list(
missing = sum(is.na(x)),
prop = calculation(birth_data),
is.binary = TRUE
)
}
binary_summary(birth_data$plurality, birth_data$is_male)
# Function to calculate the proportion of 1s in x for each level of group
calculation <- function(x){
res <- x %>%
group_by(plurality, is_male) %>%
summarise(n = n()) %>%
mutate(freq = n / sum(n))
res<- res[c(2,4,6),]
birth_data <- subset(res, select = c(plurality, is_male))
res<-x(birth_data)
row.names(res)<-c()
return(res)
}
binary_summary <- function(x,group) {
list(
missing = sum(is.na(x)),
prop = calculation(birth_data),
is.binary = TRUE
)
}
binary_summary(birth_data$plurality, birth_data$is_male)
# Function to calculate the proportion of 1s in x for each level of group
calculation <- function(x){
res <- x %>%
group_by(plurality, is_male) %>%
summarise(n = n()) %>%
mutate(freq = n / sum(n))
res<- res[c(2,4,6),]
birth_data <- subset(res, select = c(plurality, is_male))
res<-(birth_data)
row.names(res)<-c()
return(res)
}
binary_summary <- function(x,group) {
list(
missing = sum(is.na(x)),
prop = calculation(birth_data),
is.binary = TRUE
)
}
binary_summary(birth_data$plurality, birth_data$is_male)
flint_data <- read.csv("flint.csv", header = TRUE)
flint_data <- as_tibble(flint_data)
flint_data <- read.csv("flint.csv", header = TRUE)
flint_data <- as_tibble(flint_data)
flint_data
flint_data <- read.csv("flint.csv", header = TRUE)
flint_data <- as_tibble(flint_data)
head(flint_data)
271/300
unique(flint_data$zip)
unique(flint_data$ward)
unique(flint_data$zip)
unique(flint_data$ward)
length.unique(flint_data$zip)
unique(flint_data$zip)
unique(flint_data$ward)
length(unique(flint_data$zip))
unique(flint_data$zip)
unique(flint_data$ward)
length(unique(flint_data$zip))
length(unique(flint_data$ward))
summarise(flint_data$lead)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
comment = NA)
vect <- c("MSU", "UM", "OSU", "PSU", 50085, 43625, 58322, 45518)
vect
summary(flint_data$lead[flint_data$zip])
summary(flint_data$lead[flint_data$ward])
summary(flint_data$lead[flint_data$ward == "1"])
summary(flint_data$lead[flint_data$ward == "1:10"])
summary(flint_data$lead[flint_data$ward == "1"])
summary(flint_data$lead[flint_data$ward == "2"])
summary(flint_data$lead[flint_data$ward == "3"])
summary(flint_data$lead[flint_data$ward == "4"])
summary(flint_data$lead[flint_data$ward == "5"])
summary(flint_data$lead[flint_data$ward == "6"])
summary(flint_data$lead[flint_data$ward == "7"])
summary(flint_data$lead[flint_data$ward == "8"])
summary(flint_data$lead[flint_data$ward == "9"])
summary(flint_data$lead[flint_data$ward == "10"])
summary(flint_data$lead[flint_data$ward == "1"])
summary(flint_data$lead[flint_data$ward == "2"])
summary(flint_data$lead[flint_data$ward == "3"])
summary(flint_data$lead[flint_data$ward == "4"])
summary(flint_data$lead[flint_data$ward == "5"])
summary(flint_data$lead[flint_data$ward == "6"])
summary(flint_data$lead[flint_data$ward == "7"])
summary(flint_data$lead[flint_data$ward == "8"])
summary(flint_data$lead[flint_data$ward == "9"])
summary(flint_data$ward[flint_data$lead == "1"])
mean(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "first"])
median(flint_data$lead[flint_data$draw == "first"])
flint_data <- read.csv("flint.csv", header = TRUE)
flint_data <- as_tibble(flint_data)
flint_data
flint_data <- read.csv("flint.csv", header = TRUE)
flint_data <- as_tibble(flint_data)
head(flint_data)
summary(flint_data$lead[flint_data$ward == "1"])
summary(flint_data$lead[flint_data$ward == "2"])
summary(flint_data$lead[flint_data$ward == "3"])
summary(flint_data$lead[flint_data$ward == "4"])
summary(flint_data$lead[flint_data$ward == "5"])
summary(flint_data$lead[flint_data$ward == "6"])
summary(flint_data$lead[flint_data$ward == "7"])
summary(flint_data$lead[flint_data$ward == "8"])
summary(flint_data$lead[flint_data$ward == "9"])
## Looking at the data for the lead content in each ward, worst ward is #2 by far. The highest max and mean lead content.
mean(flint_data$lead[flint_data$draw == "first"])
median(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "second"])
median(flint_data$lead[flint_data$draw == "second"])
mean(flint_data$lead[flint_data$draw == "third"])
median(flint_data$lead[flint_data$draw == "third"])
mean(flint_data$lead[flint_data$draw == "first"])
median(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "second"])
median(flint_data$lead[flint_data$draw == "second"])
mean(flint_data$lead[flint_data$draw == "third"])
median(flint_data$lead[flint_data$draw == "third"])
hist(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "first"])
median(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "second"])
median(flint_data$lead[flint_data$draw == "second"])
mean(flint_data$lead[flint_data$draw == "third"])
median(flint_data$lead[flint_data$draw == "third"])
lead_draw <- flint_data$lead[flint_data$draw == "first"]
mean(flint_data$lead[flint_data$draw == "first"])
median(flint_data$lead[flint_data$draw == "first"])
mean(flint_data$lead[flint_data$draw == "second"])
median(flint_data$lead[flint_data$draw == "second"])
mean(flint_data$lead[flint_data$draw == "third"])
median(flint_data$lead[flint_data$draw == "third"])
lead_draw <- flint_data$lead[flint_data$draw == "first"]
hist(lead_draw)
quantile(birth_data$lead, c(.85))
quantile(birth_data$lead == ".85")
quantile(birth_data$lead == "85%")
quantile(lead == "85%")
lead1 <- flint_data$lead
lead1 <- flint_data$lead
quantile(lead1, c(.20, .50, .85))
ld1 <- flint_data$lead[flint_data$draw == "first"]
ld2 <- flint_data$lead[flint_data$draw == "second"]
ld3 <- flint_data$lead[flint_data$draw == "third"]
quantile(ld1, c(.20, .50, .85))
quantile(ld2, c(.20, .50, .85))
quantile(ld3, c(.20, .50, .85))
ggplot(flint_data, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead(flint_data$draw[flint_data$zip == "48505"]))
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(lead_zip, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead, color=zip))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead, color=lead_zip))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
boxplot(draw~lead,
data=flint_data,
main="Different boxplots for each draw",
xlab="Draw",
ylab="Lead",
col="orange",
border="brown"
)
boxplot(x=draw, y=lead,
data=flint_data,
main="Different boxplots for each draw",
xlab="Draw",
ylab="Lead",
col="orange",
border="brown"
)
lead_zip <- (flint_data$lead[flint_data$draw[flint_data$zip == "48505"]])
ggplot(flint_data, mapping = aes(x = draw, y = lead))+geom_boxplot() + labs(subtitle = "Lead values by draw for zip code 48505")
max(flint_data$lead)
max(flint_data$lead)
flint_data$lead[flint_data$draw]
max(flint_data$lead)
flint_data$lead[flint_data$zip]
max(flint_data$lead)
location(flint_data$lead == "1051")
install.packages("lobstr")
max(flint_data$lead)
location(flint_data$lead == "1051")
max(flint_data$lead)
location(df == "1051")
max(flint_data$lead)
apply(df, 2, function(x) which(x == "1051"))
max(flint_data$lead)
apply(flint_data, 1, function(x) which(x == "1051"))
max(flint_data$lead)
apply(flint_data, 2, function(x) which(x == "1051"))
max(flint_data$lead)
apply(df, 1, function(x) which(x == "1051"))
max(flint_data$lead)
apply(df, 1, function(x) any(x %in% c("1051")))
max(flint_data$lead)
apply(flint_data, 1, function(x) any(x %in% c("1051")))
max(flint_data$lead)
## Looking at the dataset manually, I found that it belonged to draw 2 and zip code 48504. If further analysis is involved, we would need to investigate this zip code more to find out how worse off it is than others.
min(flint_data$lead)
#Extract lead values by draws
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
lead.value.draw == "first"
#Extract lead values by draws
lead.value.draw <- flint_data$lead[flint_data$draw]
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
lead.value.draw == "first"
mean(lead.value.draw == "first")
sd(lead.value.draw == "third")
#Extract the z.scores which are above 3.
#Extract lead values by draws
lead.value.draw <- flint_data$lead(flint_data$draw)
#Extract lead values by draws
lead.value.draw <- flint_data$lead[flint_data$draw]
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
lead.value.draw == "first"
mean(lead.value.draw == "first")
sd(lead.value.draw == "third")
#Extract the z.scores which are above 3.
#Extract lead values by draws
lead.value.draw <- flint_data$lead[flint_data$draw]
lead.value.draw
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
lead.value.draw == "first"
mean(lead.value.draw == "first")
sd(lead.value.draw == "third")
#Extract the z.scores which are above 3.
#Extract lead values by draws
lead.value.draw <- flint_data$lead[flint_data$draw == "first"]
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
lead.value.draw == "first"
mean(lead.value.draw == "first")
sd(lead.value.draw == "third")
#Extract the z.scores which are above 3.
#Extract lead values by draws
ld1
ld2
ld3
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 == "first" - mean(ld1 == "first")} / sd(ld1 == "first")
#Extract lead values by draws
ld1
ld2
ld3
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)} / sd(ld1)
#Extract the z.scores which are above 3.
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)} / sd(ld1)
#Extract the z.scores which are above 3.
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
#Extract the z.scores which are above 3.
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1) * 100
#Extract the z.scores which are above 3.
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c("ld1, ld2, ld3")
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c("ld1, ld2, ld3")
ldx
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx
subset(ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx
subset(flint_data, ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx
subset(df, ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx > 3
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
extract(ldx < 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
d[.(lead & ldx > 3)]
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx[.(lead & ldx > 3)]
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
ldx[(lead & ldx > 3)]
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
count(ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
select(ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
filter(ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3)
pull(ldx > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3 > 3)
#Extract lead values by draws
## ld1, ld2, ld3 ^^
#find the z scores for each draw using: {lead.value.draw# - mean(lead.value.draw#)} /sd(lead.value.#draw#)
{ld1 - mean(ld1)}/sd(ld1)
{ld2 - mean(ld2)}/sd(ld2)
{ld3 - mean(ld3)}/sd(ld3)
#Extract the z.scores which are above 3.
ldx <- c(ld1, ld2, ld3 < 3)
