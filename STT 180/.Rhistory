knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
comment = NA)
library(tidyverse)
glimpse(diamonds)
?diamonds
diamonds
table(clarity)
table(*clarity*)
table(diamonds$clarity)
table(diamonds$clarity)
table(diamonds$cut)
table(diamonds$color)
summary(diamonds$price)
price.per.carat <- diamonds$price/diamonds$carat
price.per.carat <- diamonds$price/diamonds$carat
price.per.carat
price.per.carat <- diamonds$price(diamonds$carat)
price.per.carat <- diamonds$price / diamonds$carat
price.per.carat <- diamonds$price / diamonds$carat
price.per.carat
price.per.carat <- diamonds$price / diamonds$carat
?per
?price
price.per.carat <- diamonds$price / diamonds$carat
corr <- round(cor(price.per.carat),1)
# use the summary function on price for the particular cuts
price_summary <- diamonds %>% filter(cut == "Fair")
summary(price_summary$price)
price_sum2 <- diamonds %>% filter(cut == "Ideal")
summary(price_sum2)
#use the summary function on price for the particular colors.
color_summary <- diamonds %>% filter(color == "D")
summary(color_summary$color)
color_sum2 <- diamonds %>% filter(color == "J")
summary(color_sum2)
diamond.plot <- ggplot(data = diamonds, aes(x = carat, y = price))
diamond.plot + geom_point()
diamond.plot <- ggplot(data = diamonds, aes(x = carat, y = price, color = color))
diamond.plot + geom_point() +
labs(y = "Price ($)",
x = "Carat", title = "Diamond Carat vs Price",
subtitle = "data from ggplot2")
diamond.plot <- ggplot(data=diamonds,
aes(x = carat, y = price,  shape = cut, colour = color))
diamond.plot + geom_point()+
labs(y = "Price ($)", x = "Carat",
title = "Diamond Carat vs Price", subtitle = "data from ggplot2")
diamond.plot <- ggplot(data = diamonds, aes(x = carat, y = price, colour = color))
diamond.plot + geom_point() + facet_wrap(~cut) +
labs(y = "Price ($)", x = "Carat")
diamond.plot <- ggplot(data=diamonds,
aes(x = carat, y = price,  shape = cut, colour = color))
diamond.plot + geom_point()+
labs(y = "Price ($)", x = "Carat",
title = "Diamond Carat vs Price", subtitle = "data from ggplot2")
diamond.plot <- ggplot(data = diamonds, aes(x = carat, y = price, colour = color))
diamond.plot + geom_point() + facet_wrap(~cut) +
labs(y = "Price ($)", x = "Carat")
diamond.plot <- ggplot(data = diamonds, aes(x = carat, y = price, colour = cut))
diamond.plot + geom_point() + facet_wrap(~clarity, nrow = 2) +
labs(y = "Price ($)", x = "Carat")
# global chunk options
knitr::opts_chunk$set(echo = TRUE,
eval = TRUE,
error = TRUE,
message = FALSE,
warning = FALSE,
comment = NA,
fig.width=9,
fig.height=7)
library(DBI)
library(RSQLite)
library(tidyverse)
con <- dbConnect(SQLite(), ":memory:")
dbWriteTable(con, "mtcarsdb", mtcars)
# see tables
dbListTables(con)
dbGetQuery(con, statement = "SELECT mpg FROM mtcarsdb")
row(mtcars,1)
column(mtcars,1)
table(mtcars,1)
data_frame(mtcars,1)
data_frame(mtcars,-1)
data_frame(mtcars = "mpg")
dbGetQuery(con, statement = "SELECT mpg FROM mtcarsdb")
select(mtcars, column_one)
select(mtcars, col_number(1))
select(mtcars, col_number("1"))
select(mtcars = "mpg")
dbGetQuery(con, statement = "SELECT mpg FROM mtcarsdb")
mtcars %>% select(1)
dbGetQuery(con, statement = "SELECT mpg FROM mtcarsdb")
mtcars %>% select(1)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 25")
)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 25")
)
mtcars %>% filter(mpg > 25)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order_by("cyl")
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order_by(cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order(cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order(.,cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order("cyl")
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order(mtcars$cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order_by(mtcars$cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
group_by(cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
order_by(cyl)
dbGetQuery(con, paste("SELECT * FROM mtcarsdb",
"WHERE mpg > 20",
"ORDER BY cyl")
)
mtcars %>%
filter(mpg > 20) %>%
arrange(cyl)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3 & gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3, gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3 && gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3 & gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3) %>%
select(gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
select(gear) %>%
filter(mpg > 25 & wt < 3) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
select(10) %>%
filter(mpg > 25 & wt < 3) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
filter(mpg > 25 & wt < 3) %>%
select(10) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
select(mpg, wt, gear) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 AND wt < 3",
"ORDER BY mpg DESC")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 & wt < 3) %>%
arrange(-mpg)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
nrow(1:6)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
nrow(6)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
NROW(1:6)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
NROW(,6)
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
size = 6
dbGetQuery(con, paste("SELECT mpg, wt, gear FROM mtcarsdb",
"WHERE mpg > 25 OR wt < 3",
"LIMIT 6")
)
mtcars %>%
select(mpg, wt, gear) %>%
filter(mpg > 25 | wt < 3) %>%
slice(1:6)
dbGetQuery(con, statement = "SELECT AVG(mpg) FROM mtcarsdb")
mtcars %>% summarize(AVG_mpg = mean(mpg, na.rm=TRUE))
dbGetQuery(con, "SELECT COUNT(mpg) FROM mtcarsdb")
mtcars %>% summarize(COUNT_mpg = length(mpg))
dbGetQuery(con, paste("SELECT cyl, MAX(hp) FROM mtcarsdb",
"GROUP BY cyl",
"ORDER BY AVG(hp) ASC")
)
mtcars %>%
group_by(cyl) %>%
summarize(AVG_hp = mean(hp, na.rm=TRUE)) %>%
arrange(-AVG_hp)
dbGetQuery(con, paste("SELECT cyl, AVG(hp) FROM mtcarsdb",
"GROUP BY cyl",
"ORDER BY AVG(hp) DESC")
)
mtcars %>%
group_by(cyl) %>%
summarize(AVG_hp = mean(hp, na.rm=TRUE)) %>%
arrange(-AVG_hp)
dbGetQuery(con, paste("SELECT cyl, MAX(hp) FROM mtcarsdb",
"GROUP BY cyl",
"ORDER BY AVG(hp) ASC")
)
mtcars %>%
group_by(cyl) %>%
summarize(MAX_hp = max(hp), AVG_hp = mean(hp)) %>%
arrange(AVG_hp) %>%
select(cyl, MAX_hp)
dbGetQuery(con, paste("SELECT mpg, gear, carb FROM mtcarsdb",
"LIMIT 10")
)
dbGetQuery(con, paste("SELECT mpg, gear, carb FROM mtcarsdb",
"ORDER BY carb ASC")
)
dbGetQuery(con, paste("SELECT mpg, cyl, carb FROM mtcarsdb",
"WHERE carb > 2 AND cyl > 4")
)
dbGetQuery(con, paste("SELECT carb, SUM(wt) FROM mtcarsdb",
"GROUP BY carb")
)
dbGetQuery(con, paste("SELECT cyl, carb, AVG(mpg), AVG(hp), AVG(wt) FROM mtcarsdb",
"GROUP BY cyl, carb")
)
dbDisconnect(con)
